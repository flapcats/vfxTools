# Locator for tracking backplate point
"""
Select the camera you want a locator under to scale

* Load the tracked camera its undistorted backplate from SG
* Set the frame range and choose a frame where the point you want to track is clearly visible.
* Create a locator, look through the camera and move the locator to the point you want to track.
* Duplicate the camera without upstream connections on that frame, turn off its renderable flag, unlock its transform attributes and rename it locatorCam_#### (frame number)
  (or something you'll not accidentally render later.)
* Remove it from any grouping and parent the locator to it - ie MM drag the locator onto the cam.
* This gives you a transform that has the same attributes as the camera.
* Change to a frame where the point has moved significantly, look through the tracked camera.
* Select 'locatorCam' and scale it until the locator lines up with the point you'd like tracked.
* Repeat this for several frames in the shot, scaling and refining the scale to improve the track.


"""

import maya.cmds as cmds

# Select the camera
cam = cmds.ls(sl=True)
print cam
newcam = cmds.duplicate(cam, rr=True)

# Unlock all axes / axis
nounicode=str(newcam[0]).split("'")
camNoUnicode = "{}.".format(nounicode[0])
axis = ['x', 'y', 'z']
attrs = ['t', 'r', 's']
for ax in axis:
    for attr in attrs:
        cmds.setAttr(camNoUnicode+attr+ax, lock=0)

# Move it to world-space and rename it
if (cmds.listRelatives(newcam, p=True) != None):
	cmds.parent(newcam, world=True)
	
cmds.select( newcam, r=True )
locatorParent = cmds.rename( 'scale_me' )

# Create and parent a locator
cmds.spaceLocator(n="AOV_Settings") # "Locator"


#MSB 241018





