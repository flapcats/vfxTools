"""
* assign rayswitches to all bits of geo
* set opacity off on geo

* get namespace ? currently forces namespaceq

To do:
Sync values between original and camera

"""
import maya.cmds as cmds
import maya.mel as mel

nameSpacedGeo=cmds.namespaceInfo(listOnlyNamespaces=True)
creatureNS = ""

for x in nameSpacedGeo:
    if "creature" in x:
        creatureNS = x
        print "Found "+ creatureNS
        
        
        

def cutoutOn():
    
    #sets opacity
    cmds.setAttr( creatureNS+ ':body_geoShape.aiOpaque', 0 )
    cmds.setAttr( creatureNS+ ':teeth_geoShape.aiOpaque', 0 )
    cmds.setAttr( creatureNS+ ':gums_geoShape.aiOpaque', 0 )
    
    # namespace assignments:
    cmds.sets(creatureNS+ ":body_geoShape", forceElement=creatureNS+ ':aiWDBodyRayswitchSG')
    cmds.sets(creatureNS+ ":teeth_geoShape", forceElement=creatureNS+ ':teeth_aiRaySwitchSG')    
    cmds.sets(creatureNS+ ":gums_geoShape", forceElement=creatureNS+ ':gums_aiRaySwitchSG')
        

def cutoutOff():

    #sets opacity
    cmds.setAttr( creatureNS+ ':body_geoShape.aiOpaque', 1 )
    cmds.setAttr( creatureNS+ ':teeth_geoShape.aiOpaque', 1 )
    #cmds.setAttr( creatureNS+ ':gums_geoShape.aiOpaque', 0 ) # Is off in original delivery
    
    # namespace assignments:
    cmds.sets(creatureNS+ ":body_geoShape", forceElement=creatureNS+ ':aiWDBody_SG' )
    cmds.sets(creatureNS+ ":teeth_geoShape", forceElement=creatureNS+ ':aiWDTeeth_SG' )
    cmds.sets(creatureNS+ ":gums_geoShape", forceElement=creatureNS+ ':aiWDGums_SG' )





def doSomething():
    
    cutoutResult = cmds.confirmDialog( title='cutOut on/off', message='Turn on cutOut shaders?', button=['On','Off','Cancel'], defaultButton='Yes', cancelButton='No', dismissString='No' )

    if cutoutResult == "On":
        cutoutOn()
        print "Turned on cutOut shaders." 
        

    if cutoutResult == "Off":
        cutoutOff()
        print "Turned off cutOut shaders."   
        
    if cutoutResult == "Cancel":
        print "cutOut cancelled, no changes made."
   	    
doSomething()
