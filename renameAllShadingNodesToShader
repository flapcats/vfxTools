
    
    
#Renames shader's shadingEngine to shader + SG

import maya.cmds as cmds

"""
For Shelf:

import renameShadingNodes
reload(renameShadingNodes)

renameShadingNodes.renameShadingNodes()


"""

    
#----------------------

def renameShadingNodes():




    def renameShadingEngine():


        #for i in nodesToRename:

        shadingEngineName = []
        
        
        surfaceShader = '%s.surfaceShader' % i
        connections = cmds.listConnections(i, connections=True, t='shadingEngine')
        shadingEngine = connections[1]
        
        nodeName = str(i)+"_SG"
        cmds.rename(shadingEngine, nodeName)
            
    


    def renameHistory():

        for i in nodesToRename:
            if i != shader:
                
                nodeName = shader+"_"+str(i)
                print "Renaming to "+nodeName
                cmds.rename(i, nodeName)


    selected = cmds.ls(sl=True)
    renameThings = cmds.confirmDialog( title='Rename nodes', message='Rename:', button=['shadingEngine','history only','both','Cancel'], defaultButton='both', cancelButton='Cancel', dismissString='No' )


    for i in selected:
        shader = i
        nodesToRename = cmds.listHistory(i)
        print nodesToRename

        
        if renameThings == "both":
            renameShadingEngine()
            renameHistory()
            
        if renameThings == "history only":
            renameHistory()
        
        if renameThings == "shadingEngine":
            renameShadingEngine()































