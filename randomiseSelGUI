

import maya.cmds as cmds



def randomiseThings():
    value = cmds.textFieldGrp(textFieldGrpVar, q=1, text=1)
    print "randomising by "+value
    rotateBy = random.random()*float(axis)
    if axis == "x":
        for each in selected:
            cmds.setAttr(j+'.rotate', rotateBy, 0, 0, type="double3")
    if axis == "y":
        cmds.setAttr(j+'.rotate', 0, rotateBy, 0, type="double3")
    if axis == "z":
        cmds.setAttr(j+'.rotate', 0, 0, rotateBy, type="double3")


     
axis = ""
value = 0.0
x = "x"
y = "y"
z = "z"

selected = cmds.ls(sl=True)
     
# Make a new window
window = cmds.window( title="Randomise selected", iconName='Short Name', widthHeight=(400, 155) )
cmds.columnLayout( adjustableColumn=True  )
textFieldGrpVar = cmds.textFieldGrp( label='Randomisation intensity:', text="15" )
cmds.button( label='Randomise X axis', command=('axis = x;randomiseThings();') )
cmds.button( label='Randomise Y axis', command=('axis = y') )
cmds.button( label='Randomise Z axis', command=('axis = z') )
cmds.button( label='Close', command=('cmds.deleteUI(\"' + window + '\", window=True);') )
cmds.setParent( '..' )
cmds.showWindow( window )

# Workaround to get MEL global variable value in Python
gMainWindow = maya.mel.eval('$tmpVar=$gMainWindow')
cmds.window( gMainWindow, edit=True, widthHeight=(900, 777) )


  
  
